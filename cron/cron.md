# corn 表达式

一个字符串，字符串以 5 或 6 个空格隔开，分成多个域，每个域有自己的含义

### 域允许的值

`Seconds Minutes Hours DayofMonth Month DayofWeek (Year)`

- 秒
    - 数值
        - `0-59`
    - 特殊字符
        - `- * /`
- 分
    - 数值
        - `0-59`
    - 特殊字符
        - `- * /`
- 小时
    - 数值
        - `0-24`
    - 特殊字符
        - `- * /`
- 日期
    - 数值
        - `1~31`
    - 特殊字符
        - `- * ? / L W C`
- 月份
    - 数值
        - `0-12`
    - 特殊字符
        - `JAN-DEC - * /`
- 星期
    - 数值
        - `1-7`
    - 特殊字符
        - `SUN-SAT - * ? / L C #`
- 年，可选
    - 数值
        - 留空
        - `1970-2099`
    - 特殊字符
        - `, - * /`

### 特殊字符含义

- `*`
    - 匹配域的任意值
- `?`
    - 匹配域的任意值，只能用在日期和星期，这两个域之间相互影响
    - 每个月2号，如果星期使用 `*` 不管星期几都会触发，与前面互斥
        - `20 20 20 2 * ?`
- `-`
    - 起止范围
        - 秒域中 `5-20`，表示从 `5` 到 `20` 每秒触发一次
- `/`
    - 起始时间触发，每隔固定时间触发一次
- `,`
    - 列出枚举值
- `L`
    - 只能使用在日期和星期，表示最后触发
    - 这个月最后一个星期一
- `W`
    - 有效工作日（星期一到星期五）
- `LW`
    - 某个月最后的工作日
- `#`
    - 每个月第几个星期几，只能出现在星期域

# Crontab表达式

比较好区分，只有五位，常见于类 `unix` 系统，用于设置周期性被履行的指令
该指令从规范输入设备读取指令，并将其存放在 `crontab` 文件中
`cron` 守护进程会在后台运行，每分钟检查一次所有 `crontab` 文件，时间到触发任务执行

时程表 `z1 z2 z3 z4 z5 program`

- 分钟
- 小时
- 日期
- 月份
- 星期
- 年（可选）
- 需要执行的 `shell` 或者命名

### cron

`linux` 内置的定时执行工具，不会自动启动

##### 时区

`crontab` 表达式的时间是受操作系统所设置的时区影响的，`github` 上的服务器采用的是 `UTC` 时间
可以直接按照 `UTC` 执行，或者修改时区